### new 和 make

make 负责复杂类型 channel slice map的分配内存和初始化任务，会返回类型本身的引用。

new 可以为类型进行内存创建和初始化，返回值是所创建类型的指针引用。



**make**

make 只负责三种类型channel slice map 的初始化

 v1 := make([]int, 1)
 v2 := make(map[int]bool)
 v3 := make(chan int)

make初始化时，根据类型不同有的需要指定指定长度有的不需要

slice 必须传入长度，可以选择传入容量

map可以选择传入长度

chan可以传入，不传入即创建无缓冲通道

**注意**使用make初始化切片时，传入长度会给长度内数据赋值0值



**new**

new在日常代码中比较少用，因为他是可以被简单的快捷创建方式（T{}）替代

new也可以初始化channel map slice三种类型 

本质区别在于 make初始化时会初始化内部数据结构，new并不会

合理的长度和容量可以提高效率 较少分配扩容的开销



**区别**

​			make函数：

- - 能够**分配并初始化**类型所需的内存空间和结构，返回引用类型的本身。

  - 具有使用范围的局限性，仅支持 `channel`、`map`、`slice` 三种类型。

  - 具有独特的优势，`make` 函数会对三种类型的内部数据结构（长度、容量等）赋值。

    new函数：

- - 能够**分配**类型所需的内存空间，返回指针引用（指向内存的指针）。
  - 可被替代，能够通过字面值快速初始化。

